<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Login</title>
  <link rel="stylesheet" href="/public/style.css">
  <style>
    /* Estilos para as mensagens de sucesso e erro */
    .mensagem-sucesso {
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      text-align: center;
    }
    .mensagem-erro {
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
      text-align: center;
    }
  </style>
</head>
<body>

  <!-- CORREÇÃO: Verifica se a variável 'query' existe antes de usá-la -->
  <% if (typeof query !== 'undefined' && query.cadastro === 'sucesso') { %>
    <p class="mensagem-sucesso">Cadastro realizado com sucesso! Faça login.</p>
  <% } %>

  <!-- Exibe a mensagem de erro se ela existir e não for nula -->
  <% if (typeof erro !== 'undefined' && erro) { %>
    <p class="mensagem-erro"><%= erro %></p>
  <% } %>

  <form action="/" method="POST">
    <h2>Login</h2>
    <input type="email" name="email" placeholder="E-mail" required><br>
    <input type="password" name="password" placeholder="Senha" required><br>
    <button type="submit">Entrar</button>
    <p>Não tem conta? <a href="./register.ejs">Cadastre-se</a></p>
  </form>

</body>
</html>
